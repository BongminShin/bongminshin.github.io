(this.webpackJsonpproductapp=this.webpackJsonpproductapp||[]).push([[0],{19:function(e,t,a){e.exports=a(32)},24:function(e,t,a){},25:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),c=a(17),i=a.n(c),s=(a(24),a(25),a(7)),o=a(12),u=a(8),m=a(6),d="products",p={modelData:(n={},Object(u.a)(n,d,[{id:1,name:"Trail Shoes",category:"Running",price:100},{id:2,name:"Thermal Hat",category:"Running",price:12},{id:3,name:"Heated Gloves",category:"Running",price:82.5}]),Object(u.a)(n,"suppliers",[{id:1,name:"Zoom Shoes",city:"London",products:[1]},{id:2,name:"Cosy Gear",city:"New York",products:[2,3]}]),n),stateData:{editing:!1,selectedId:-1,selectedType:d}},b=function(e){return{type:"state_start_editing",dataTypes:d,payload:e}},h=function(e){return{type:"state_start_editing",dataTypes:"suppliers",payload:e}},f=function(){return console.log("endProduct"),{type:"state_end_editing"}},E=100,y=function(e){return console.log("saveProduct"),C(d,e)},g=function(e){return C("suppliers",e)},C=function(e,t){return t.id?{type:"UPDATE",dataType:e,payload:t}:{type:"STORE",dataType:e,payload:Object(m.a)({},t,{id:E++})}},O=function(e){return{type:"DELETE",dataType:d,payload:e.id}},j=function(e){return{type:"DELETE",dataType:"suppliers",payload:e.id}},v=Object(o.c)(Object(o.b)({modelData:function(e,t){switch(t.type){case"STORE":return Object(m.a)({},e,Object(u.a)({},t.dataType,e[t.dataType].concat([t.payload])));case"UPDATE":return Object(m.a)({},e,Object(u.a)({},t.dataType,e[t.dataType].map((function(e){return e.id===t.payload.id?t.payload:e}))));case"DELETE":return Object(m.a)({},e,Object(u.a)({},t.dataType,e[t.dataType].filter((function(e){return e.id!==t.payload}))));default:return e||p.modelData}},stateData:function(e,t){switch(console.log(t.type),t.type){case"state_start_editing":case"state_start_creating":return Object(m.a)({},e,{editing:!0,selectedId:"state_start_editing"===t.type?t.payload.id:-1,selectedType:t.dataType});case"state_end_editing":return Object(m.a)({},e,{editing:!1});default:return e||p.stateData}}})),k=a(1),N=a(2),D=a(4),T=a(3),_=a(5),S=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(D.a)(this,Object(T.a)(t).call(this,e))).setSelection=function(e){e.persist(),a.setState({selection:e.target.name})},a.state={selection:l.a.Children.toArray(e.children)[0].props.name},a}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-2"},console.log(l.a.Children),console.log(l.a.Children.map(this.props.children,(function(e){return e.props.name}))),l.a.Children.map(this.props.children,(function(t){return l.a.createElement("button",{name:t.props.name,onClick:e.setSelection,className:"btn btn-block m-2 ".concat(e.state.selection===t.props.name?"btn-primary active":"btn-secondary")},t.props.name)}))),l.a.createElement("div",{className:"col"},console.log(l.a.Children.toArray(this.props.children).filter((function(t){return t.props.name===e.state.selection}))),l.a.Children.toArray(this.props.children).filter((function(t){return t.props.name===e.state.selection})))))}}]),t}(r.Component),w=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(D.a)(this,Object(T.a)(t).call(this,e))).handleChange=function(e){e.persist(),a.setState((function(t){return t.formData[e.target.name]="products"===e.target.name?e.target.value.split(","):e.target.value}))},a.handleClick=function(){a.props.saveCallback(Object(m.a)({},a.state.formData,{products:a.state.formData.products.map((function(e){return Number(e)}))}))},a.state={formData:{id:e.supplier.id||"",name:e.supplier.name||"",city:e.supplier.city||"",products:e.supplier.products||[]}},a}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"m-2"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"ID"),l.a.createElement("input",{className:"form-control",name:"id",disabled:!0,value:this.state.formData.id,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Name"),l.a.createElement("input",{className:"form-control",name:"id",disabled:!0,value:this.state.formData.name,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"City"),l.a.createElement("input",{className:"form-control",name:"id",disabled:!0,value:this.state.formData.city,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Products"),l.a.createElement("input",{className:"form-control",name:"id",disabled:!0,value:this.state.formData.products,onChange:this.handleChange})),l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"btn btn-primary m-1",onClick:this.handleClick},"Save"),l.a.createElement("button",{className:"btn btn-secondary m-1",onClick:this.props.cancelCallback},"Cancel")))}}]),t}(r.Component),P=function(e){function t(){return Object(k.a)(this,t),Object(D.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.props.supplier;return l.a.createElement("tr",null,l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.city),l.a.createElement("td",null,t.products.join(", ")),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-sm btn-warning m-1",onClick:function(){return e.props.editCallback(t)}},"Edit"),l.a.createElement("button",{className:"btn btn-sm btn-danger m-1",onClick:function(){return e.props.deleteCallback(t)}},"Delete")))}}]),t}(r.Component),I=function(e){function t(){return Object(k.a)(this,t),Object(D.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("table",{className:"table table-sm table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"City"),l.a.createElement("th",null,"Products"),l.a.createElement("th",null))),l.a.createElement("tbody",null,this.props.suppliers.map((function(t){return l.a.createElement(P,{supplier:t,key:t.id,editCallback:e.props.editCallback,deleteCallback:e.props.deleteCallback})}))))}}]),t}(r.Component),x=function(e,t){return Object(s.b)((function(t){return{editing:t.stateData.editing&&t.stateData.selectedType===e,product:t.modelData.products.find((function(e){return e.id===t.stateData.selectedId}))||{},supplier:t.modelData.suppliers.find((function(e){return e.id===t.stateData.selectedId}))||{}}}),(function(t){return{cancelCallback:function(){return t(f())},saveCallback:function(a){t((e===d?y:g)(a)),t(f())}}}))(t)},A=function(e,t){var a={editCallback:e===d?b:h,deleteCallback:e===d?O:j};return Object(s.b)((function(e){return{products:e.modelData.products,suppliers:e.modelData.suppliers}}),a)(t)},R=x("suppliers",w),L=A("suppliers",I),B={createSupplier:function(){return console.log("come"),{type:"state_start_creating",dataTypes:"suppliers"}}},G=Object(s.b)((function(e){return{editing:e.stateData.editing,selected:e.modelData.suppliers.find((function(t){return t.id===e.stateData.selectedId}))||{}}}),B)(function(e){function t(){return Object(k.a)(this,t),Object(D.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return console.log("display"),this.props.editing?l.a.createElement(R,{key:this.props.selected.id||-1}):l.a.createElement("div",{className:"m-2"},l.a.createElement(L,null),l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"btn btn-primary m-1",onClick:this.props.createSupplier},"Create Supplier")))}}]),t}(r.Component)),H=function(e){function t(){return Object(k.a)(this,t),Object(D.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this,t=this.props.product;return l.a.createElement("tr",null,l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.category),l.a.createElement("td",{className:"text-right"},"$",Number(t.price).toFixed(2)),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-sm btn-warning m-1",onClick:function(){return e.props.editCallback(t)}},"Edit"),l.a.createElement("button",{className:"btn btn-sm btn-danger m-1",onClick:function(){return e.props.deleteCallback(t)}},"Delete")))}}]),t}(r.Component),J=function(e){function t(){return Object(k.a)(this,t),Object(D.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("table",{className:"table table-sm table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{colSpan:"5",className:"bg-primary text-white text center h4 p-2"},"Products")),l.a.createElement("tr",null,l.a.createElement("th",null,"ID"),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Category"),l.a.createElement("th",{className:"text-right"},"Price"),l.a.createElement("th",null))),l.a.createElement("tbody",null,this.props.products.map((function(t){return l.a.createElement(H,{product:t,key:t.id,editCallback:e.props.editCallback,deleteCallback:e.props.deleteCallback})}))))}}]),t}(r.Component),U=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(D.a)(this,Object(T.a)(t).call(this,e))).handleChange=function(e){e.persist(),a.setState((function(t){return t.formData[e.target.name]=e.target.value}))},a.handleClick=function(){a.props.saveCallback(a.state.formData)},a.state={formData:{id:e.product.id||"",name:e.product.name||"",category:e.product.category||"",price:e.product.price||""}},a}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"m-2"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"ID"),l.a.createElement("input",{className:"form-control",name:"id",disabled:!0,value:this.state.formData.id,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Name"),l.a.createElement("input",{className:"form-control",name:"name",value:this.state.formData.name,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Category"),l.a.createElement("input",{className:"form-control",name:"category",value:this.state.formData.category,onChange:this.handleChange})),l.a.createElement("div",{className:"form=group"},l.a.createElement("label",null,"Price"),l.a.createElement("input",{className:"form-control",name:"price",value:this.state.formData.price,onChange:this.handleChange})),l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"btn btn-primary m-1",onClick:this.handleClick},"Save"),l.a.createElement("button",{className:"btn btn-secondary",onClick:this.props.cancelCallback},"Cancel")))}}]),t}(r.Component),W=x(d,U),$=A(d,J),F={createProduct:function(){return{type:"state_start_creating",dataTypes:d}}},Y=Object(s.b)((function(e){return{editing:e.stateData.editing,products:e.modelData.products.find((function(t){return t.id===e.stateData.selectedId}))||{}}}),F)(function(e){function t(){return Object(k.a)(this,t),Object(D.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return this.props.editing?l.a.createElement(W,{key:this.props.selectedId||-1}):l.a.createElement("div",{className:"m-2"},l.a.createElement($,null),l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"btn btn-primary m-1",onClick:this.props.createProduct},"Create Product")))}}]),t}(r.Component));var Z=function(){return l.a.createElement(s.a,{store:v},l.a.createElement(S,null,l.a.createElement(Y,{name:"Products"}),l.a.createElement(G,{name:"Suppliers"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(31);i.a.render(l.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.44af7b09.chunk.js.map